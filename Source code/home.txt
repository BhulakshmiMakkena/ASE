<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script>
Welcome Lakshmi
<div id="map"></div>
<br>
<p>Route Map and Weather Recording <p>
<strong> Source : </strong>
<input type="text"  id="source"> <br><br>
<strong> Destination : </strong>
<input type="text" id="dest"> <br>    <br>

<button id="button">Show Direction</button>
<div id="map_canvas" style="height: 400px; width: 400px"></div>
<div class="weatherModule">
<p class="currentConditions"></p>
<div class="currentIcon"></div>
</div>
    <div class="weatherModule1">
<p class="currentConditions1"></p>
<div class="currentIcon1"></div>
</div>

var map;
var elevator;
var myOptions = {
    zoom: 6,
    mapTypeId: 'terrain'
};
map = new google.maps.Map($('#map')[0], myOptions);
var markers = [];

 // Try HTML5 geolocation
  if(navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
      var pos = new google.maps.LatLng(position.coords.latitude,
                                       position.coords.longitude);
      var infowindow = new google.maps.InfoWindow({
        map: map,
        position: pos,
        content: 'look'
      });

      map.setCenter(pos);
    }, function() {
      handleNoGeolocation(true);
    });
  } else {
    // Browser doesn't support Geolocation
    handleNoGeolocation(false);
  }

///////  Direction ///////////////////
var directionDisplay;
var directionsService = new google.maps.DirectionsService();     //Create a DirectionsService object which is required to communicate with the Google Maps API Direction Service
var map2;
function initialize()
{
            directionsDisplay = new google.maps.DirectionsRenderer();        //Create a DirectionsRenderer object to render the directions results
    var center = new google.maps.LatLng(0, 0);    //Map is centered at 0,0
    var myOptions =
    {
            zoom:7,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            center: center
    }
    map2 = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
    directionsDisplay.setMap(map2);
    var start = document.getElementById("source").value;
    var end= document.getElementById("dest").value;

    var request =
    {
            origin:start,
            destination:end,
            travelMode: google.maps.DirectionsTravelMode.DRIVING          //Current travel mode is DRIVING. You can change to BICYCLING or WALKING and see the changes.
    };
    directionsService.route(request, function(response, status)
    {
            if (status == google.maps.DirectionsStatus.OK) //Check if request is successful.
            {
            directionsDisplay.setDirections(response);         //Display the directions result
            }
    });


$.ajax({
  url: "http://api.wunderground.com/api/36b799dc821d5836/conditions/q/PA/"+start+".json",
  dataType: 'jsonp',
  data: 'url',
  success: function(data) {
    var icon, index, result, temp, weather, _results;
    _results = [];
    for (index in data) {
      result = data[index];
      temp = Math.round(result.temp_f);
      icon = result.icon_url;
      weather = result.weather;
      $('p.currentConditions').html(start+" Currently  " + temp + " &deg; F and " + weather);
      _results.push($('div.currentIcon').html("<img src='" + icon + "' >"));
    }
    return _results;
  }
});


$.ajax({
  url: "http://api.wunderground.com/api/36b799dc821d5836/conditions/q/PA/"+end+".json",
  dataType: 'jsonp',
  data: 'url',
  success: function(data) {
    var icon, index, result, temp, weather, _results;
    _results = [];
    for (index in data) {
      result = data[index];
      temp = Math.round(result.temp_f);
      icon = result.icon_url;
      weather = result.weather;
      $('p.currentConditions1').html(end+" Currently  " + temp + " &deg; F and " + weather);
      _results.push($('div.currentIcon1').html("<img src='" + icon + "' >"));
    }
    return _results;
  }
});
}
// ---
// generated by coffee-script 1.9.0

var button = document.getElementById('button');

var onClick = function() {
    initialize();
};

button.addEventListener('click', onClick, false);


